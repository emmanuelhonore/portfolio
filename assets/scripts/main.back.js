$(document).ready(function(){var a=$("#main-content"),t="http://",i=0;"https:"==location.protocol&&(t="https://");top.location.host.toString();var o=$(document).filter("title").text(),e=location.pathname;function n(l){console.log("loading "),$.ajax({url:l,type:"get",dataType:"html",error:function(t,o,e){alert(t.responseText),alert(e)},xhr:function(){var t=new window.XMLHttpRequest;return t.addEventListener("progress",function(t){if(console.log(t.lengthComputable),t.lengthComputable){var o=t.loaded/t.total;console.log(Math.round(100*o)+"%")}},!1),t},beforeSend:function(){console.log("start load")},complete:function(){console.log("end load")},success:function(t){var o=$(t),e=o.filter("title").text(),n=o.find(".main-section");$("title").text(e),history.replaceState({title:e,url:l,id:i},e,l),a.find(".main-section").fadeOut(400,function(){a.append(n).fadeIn(200)})},error:function(t,o,e){console.log(t)}})}history.replaceState({title:o,url:e,id:i},o,e),console.log(history),$(window).on("popstate",function(){console.log("popstate"),n(location.pathname)}),$(document).on("click","a",function(t){console.log("click"),t.preventDefault();var o=$(this)[0].href;i++,history.pushState(null,null,o),n(o)})});